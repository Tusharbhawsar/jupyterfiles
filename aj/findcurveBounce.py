from matplotlib import pyplot
from numpy import arange
from scipy.optimize import curve_fit
from intersect import intersection
from matplotlib import pyplot



def getDirection(pointList):
    #width = image.shape[0]
    #height = image.shape[1]
    dx = 0
    dy = 0

    for x in range(len(pointList)-1):
        # cv2.line(image, pointList[x], pointList[x+1], [0, 255, 0], 10)
        dx += pointList[x+1][0] - pointList[x][0]  
        dy += pointList[x+1][1] - pointList[x][1] 

    x = ""
    y = ""

    if(dx < -20):
        x = "right"

    if(dx > 20):
        x = "left"

    if(dy < 0):
        y = "up"

    if(dy > 0):
        y = "down"

    # print("dx::",dx,"dy::",dy)
    # return (x+y,dx,dy)
    if abs(dx)>abs(dy):
        return (x,dx,dy)
    else:
        return (y,dx,dy)

    



def getCurveIntersection(balls,rightup,leftup):


    dirs = [getDirection(balls[i:i+4])[0]  for i,pos in enumerate(balls) if i<len(balls)-2]
    print(dirs)
    changeList = [(None,None)]
    _ = [changeList.append((i,dirss)) for i,dirss in enumerate(dirs) if changeList[-1][1]!=dirss and len(dirss)>1]
    changeList.pop(0)
    print(changeList)



    # define the true objective function
    def objective(x, a, b, c):
        return a * x + b * x**2 + c

    # def objective2(x, a, b):
    #     return a * x + b 
    finalCords = []
    newBallsMissing = balls
    bounces = [change[0] for change in changeList]
    bounces.append(len(dirs))
    print(bounces)
    curveDict = {}
    # bounces = [0,42,43,53,54,75,76,82,83,132,133,144]
    colors = ['red','blue','black','yellow','pink','brown','green','red','blue']
    i_inc = None
    # for i in range(len(newBallsMissing)//15):
    for i in range(len(bounces)+1):
        if i < len(bounces)-1:
            if bounces[i+1]-bounces[i]<10:
            # if i==7:
                continue
            ball4Curve = newBallsMissing[bounces[i]:bounces[i+1]]

        x, y = [x[0]  for x in ball4Curve if x is not None], [
            1080-x[1]  for x in ball4Curve if x is not None]

        popt, _ = curve_fit(objective, x, y)
        a, b, c = popt

        print('y = %.5f * x + %.5f * x^2 + %.5f' % (a, b, c))

        # define a sequence of inputs between the smallest and largest known inputs
        x_line = arange(min(x)-80, max(x)+80, 1)
        # x_line = arange(0,1920,2)
        # calculate the output for the range
        y_line = objective(x_line, a, b, c)
        if len(list(curveDict.keys()))>1:
            break
        pyplot.scatter(x, y)
        curveDict.update({i:(x_line,y_line, a,b,c)})


        # _ = [finalCords.append([x,y]) for x,y in zip(x_line[::-1],y_line[::-1])]
    pyplot.show()



    keys = list(curveDict.keys())

    curveintersectionDict = [[0,[balls[0][0],balls[0][0]],[balls[0][1],balls[0][1]]]]
    for i, key in enumerate(keys):
        if i==len(keys)-1:
            curveintersectionDict.append([i+1,[balls[-1][0],balls[-1][0]],[balls[-1][1],balls[-1][1]]])
            pyplot.plot(x_line1, y_line1, c="g")
            break

        x_line, y_line,_,_,_ = curveDict[key]
        x_line1, y_line1,_,_,_ = curveDict[keys[i+1]]
        x,y = intersection(x_line, y_line,x_line1, y_line1)
        curveintersectionDict.append([i+1,x.tolist(),y.tolist()])
        pyplot.plot(x_line, y_line, c="r")


    pyplot.show()





    # define the true objective function
    # def objective(x, a, b, c):
    #     return a * x + b * x**2 + c

    # def objective2(x, a, b):
    #     return a * x + b 

    colors = ['red','blue','black','yellow','pink','brown','green','red','blue']
    i_inc = None

    finalCords = []
    i = 0
    lastxmax = None
    for key,value in curveDict.items():
        _,_,a,b,c = value
        print(min(curveintersectionDict[i][1]), max(curveintersectionDict[i+1][1]), lastxmax)
        if not lastxmax:
            if rightup:
                x_line = arange(min(min(curveintersectionDict[i][1]), max(curveintersectionDict[i+1][1])),max(min(curveintersectionDict[i][1]), max(curveintersectionDict[i+1][1])), 1)
                # lastxmax = max(curveintersectionDict[i+1][1])
                lastxmax = max(min(curveintersectionDict[i][1]), max(curveintersectionDict[i+1][1]))
            elif leftup:
                x_line = arange( max(curveintersectionDict[i+1][1]),min(curveintersectionDict[i][1]), 1)
                lastxmax =max(curveintersectionDict[i+1][1])
            # print(x_line)
        else:
            if rightup:
                # x_line = arange(min(lastxmax, max(curveintersectionDict[i+1][1])),max(lastxmax, max(curveintersectionDict[i+1][1])), 1)
                x_line = arange(min(lastxmax, max(curveintersectionDict[i+1][1])),max(lastxmax, max(curveintersectionDict[i+1][1])), 1)

                lastxmax = max(lastxmax, max(curveintersectionDict[i+1][1]))
            elif leftup:
                x_line = arange(min(curveintersectionDict[i+1][1]), lastxmax, 1)
                # lastxmax = max(curveintersectionDict[i+1][1])
                lastxmax =lastxmax
            

        
        if i <len(curveintersectionDict)-1:
            i+=1
        y_line = objective(x_line, a, b, c)
        # print(x_line,y_line,key)
        pyplot.plot(x_line, y_line, '--')
        _ = [finalCords.append([x,y]) for x,y in zip(x_line[::-1],y_line[::-1])]
        # print("appended",finalCords)

    pyplot.show()

    print(finalCords)
    return finalCords




if __name__ =="__main__":
    # bal = [[857, 586], [855, 571], [853, 558], [851, 545], [849, 533], [848, 520], [847, 508], [845, 497], [844, 485], [842, 474], [840, 465], [839, 457], [838, 449], [836, 442], [835, 435], [833, 428], [832, 418], [829, 408], [828, 402], [828, 402], [828, 402], [828, 402], [828, 402], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [803, 378], [803, 378], [803, 378], [803, 378], [803, 378], [796, 399], [795, 404], [794, 410], [792, 423], [791, 431], [790, 437], [789, 443], [788, 450], [788, 450], [790, 461], [811, 452], [830, 445], [844, 440], [862, 433], [873, 424], [890, 415], [899, 410], [909, 406], [918, 404], [926, 402], [933, 402], [938, 401], [944, 400], [944, 400], [949, 400], [963, 403], [966, 395], [967, 371], [968, 353], [972, 336], [975, 316], [976, 301], [978, 286], [980, 271], [981, 259], [983, 246], [984, 235], [986, 224], [987, 214], [988, 206], [989, 197], [990, 188], [990, 181], [991, 174], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [981, 149], [981, 149], [981, 149], [981, 149], [981, 149], [981, 155], [981, 155], [981, 155], [981, 155], [981, 155], [981, 155], [981, 155], [981, 155], [988, 164], [995, 180], [995, 180], [997, 187], [998, 192], [1000, 197], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202]]
    # ballss = [bal[51:]]

    # bal = [[1112, 738], [1122, 745], [1124, 758], [1122, 770], [1123, 783], [1123, 797], [1124, 810], [1124, 818], [1124, 808], [1125, 797], [1126, 786], [1126, 776], [1128, 765], [1129, 757], [1130, 748], [1130, 748], [1130, 748], [1130, 748], [1130, 748], [1130, 748], [1130, 748], [1130, 748], [1130, 748], [1130, 748], [1130, 748], [1130, 748], [1130, 748], [1130, 748], [1130, 748], [1131, 739], [1132, 756], [1132, 768], [1131, 780], [1131, 793], [1131, 806], [1131, 816], [1130, 809], [1129, 798], [1129, 798], [1128, 788], [1127, 770], [1127, 770], [1127, 770], [1127, 770], [1127, 770], [1127, 770], [1127, 770], [1127, 770], [1127, 770], [1127, 770], [1127, 770], [1127, 770], [1127, 770], [1127, 770], [1127, 761], [1128, 766], [1127, 777], [1128, 789], [1128, 801], [1128, 801], [1128, 814], [1128, 804], [1128, 795], [1129, 785], [1129, 776], [1130, 768], [1130, 761], [1130, 753], [1130, 753], [1130, 753], [1130, 753], [1130, 753], [1130, 753], [1130, 753], [1130, 753], [1130, 753], [1130, 753], [1131, 747], [1129, 754], [1130, 764], [1129, 775], [1130, 787], [1129, 798], [1129, 798], [1130, 814], [1129, 805], [1129, 796], [1130, 787], [1129, 778], [1129, 770], [1129, 761], [1129, 754], [1129, 754], [1129, 754], [1129, 754], [1129, 754], [1129, 754], [1129, 754], [1129, 754], [1129, 754], [1129, 754], [1129, 749], [1129, 758], [1129, 769], [1129, 779], [1130, 791], [1129, 803], [1129, 803], [1128, 812], [1129, 803], [1128, 794], [1129, 785], [1128, 776], [1128, 768], [1128, 768], [1128, 768], [1128, 768], [1128, 768], [1128, 768], [1128, 768], [1128, 768], [1128, 768], [1128, 768], [1128, 768], [1128, 768], [1130, 764], [1129, 775], [1130, 787], [1129, 798], [1130, 810], [1128, 816], [1128, 808], [1128, 798], [1128, 798], [1128, 789], [1128, 773], [1128, 773], [1128, 773], [1128, 773], [1128, 773], [1128, 773], [1128, 773], [1128, 773], [1128, 773], [1128, 773], [1129, 764], [1128, 775], [1128, 786], [1128, 797], [1129, 808], [1128, 816], [1127, 810], [1128, 802], [1127, 794], [1127, 794], [1127, 785], [1129, 770], [1129, 770], [1129, 770], [1129, 770], [1129, 770], [1129, 770], [1129, 770], [1129, 770], [1129, 763], [1130, 770], [1128, 776], [1129, 785], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 794], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1128, 802], [1136, 561], [1132, 548], [1130, 534], [1129, 521], [1127, 509], [1124, 497], [1123, 485], [1121, 474], [1119, 465], [1117, 456], [1115, 448], [1113, 438], [1111, 433], [1109, 426], [1107, 418], [1105, 406], [1103, 398], [1103, 398], [1103, 398], [1103, 398], [1096, 380], [1096, 380], [1096, 380], [1096, 380], [1096, 380], [1096, 380], [1096, 380], [1096, 380], [1096, 380], [1096, 380], [1096, 380], [1096, 380], [1096, 380], [1096, 380], [1096, 380], [1096, 380], [1096, 380], [1062, 377], [1060, 382], [1060, 382], [1060, 382], [1060, 382], [1051, 400], [1050, 408], [1048, 421], [1046, 429], [1043, 434], [1042, 440], [1040, 450], [1040, 450], [1040, 450], [991, 447], [967, 437], [930, 429], [907, 421], [874, 410], [853, 404], [836, 399], [813, 395], [793, 393], [776, 390], [758, 388], [743, 388], [726, 386], [710, 385], [695, 385], [680, 384], [667, 385], [655, 386], [647, 388], [630, 370], [624, 353], [615, 337], [607, 321], [599, 308], [591, 289], [583, 278], [574, 265], [566, 254], [559, 242], [552, 231], [544, 222], [536, 212], [536, 212], [536, 212], [536, 212], [536, 212], [501, 174], [495, 169], [490, 165], [482, 161], [476, 156], [470, 153], [463, 150], [458, 147], [452, 144], [446, 142], [440, 141], [435, 140], [429, 139], [423, 138], [417, 138], [412, 139], [407, 139], [402, 139], [396, 140], [391, 142], [386, 143], [386, 143], [386, 143], [386, 143], [386, 143], [386, 143], [386, 143], [386, 143], [386, 143], [386, 143], [386, 143], [386, 143], [386, 143], [386, 143], [386, 143], [386, 143], [361, 111], [363, 104], [366, 97], [368, 91], [371, 85]]
    # ballss = [bal[348:]]

    # bal = [[857, 586], [855, 571], [853, 558], [851, 545], [849, 533], [848, 520], [847, 508], [845, 497], [844, 485], [842, 474], [840, 465], [839, 457], [838, 449], [836, 442], [835, 435], [833, 428], [832, 418], [829, 408], [828, 402], [828, 402], [828, 402], [828, 402], [828, 402], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [803, 378], [803, 378], [803, 378], [803, 378], [803, 378], [796, 399], [795, 404], [794, 410], [792, 423], [791, 431], [790, 437], [789, 443], [788, 450], [788, 450], [790, 461], [811, 452], [830, 445], [844, 440], [862, 433], [873, 424], [890, 415], [899, 410], [909, 406], [918, 404], [926, 402], [933, 402], [938, 401], [944, 400], [944, 400], [949, 400], [963, 403], [966, 395], [967, 371], [968, 353], [972, 336], [975, 316], [976, 301], [978, 286], [980, 271], [981, 259], [983, 246], [984, 235], [986, 224], [987, 214], [988, 206], [989, 197], [990, 188], [990, 181], [991, 174], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [981, 149], [981, 149], [981, 149], [981, 149], [981, 149], [981, 155], [981, 155], [981, 155], [981, 155], [981, 155], [981, 155], [981, 155], [981, 155], [988, 164], [995, 180], [995, 180], [997, 187], [998, 192], [1000, 197], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202]]
    # ballss = [bal[51:]]


    # bal = [[1096, 542], [1096, 530], [1095, 518], [1094, 506], [1092, 497], [1092, 486], [1090, 476], [1089, 467], [1088, 457], [1086, 447], [1086, 439], [1085, 430], [1083, 423], [1083, 414], [1082, 408], [1080, 402], [1080, 397], [1078, 391], [1077, 385], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1076, 376], [1050, 363], [1049, 368], [1048, 373], [1046, 382], [1045, 388], [1043, 393], [1042, 399], [1042, 405], [1042, 405], [1040, 412], [1000, 406], [976, 399], [939, 390], [919, 384], [919, 384], [901, 379], [847, 367], [834, 365], [812, 362], [792, 359], [773, 359], [759, 358], [743, 357], [725, 358], [710, 358], [694, 358], [694, 358], [694, 358], [680, 359], [646, 329], [637, 312], [629, 299], [619, 285], [612, 275], [600, 255], [592, 245], [583, 233], [575, 224], [567, 214], [559, 204], [552, 197], [544, 189], [535, 182], [528, 175], [520, 169], [512, 162], [505, 158], [499, 153], [491, 149], [484, 146], [478, 143], [472, 140], [465, 138], [459, 137], [452, 136], [447, 135], [440, 134], [434, 134], [429, 134], [423, 134], [423, 134], [414, 136], [414, 136], [414, 136], [414, 136], [414, 136], [414, 136], [414, 136], [409, 139], [409, 139], [409, 139], [409, 139], [375, 158], [375, 158], [375, 158], [375, 158], [375, 158], [573, 118], [573, 118], [573, 118], [573, 118], [573, 118], [573, 118], [430, 134], [430, 134], [430, 134], [430, 134], [447, 135], [447, 135], [447, 135], [447, 135], [464, 140], [464, 140], [473, 144], [473, 144], [473, 144], [486, 151], [486, 151], [486, 151], [486, 151], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [503, 164], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168], [508, 168]]
    # balls = bal[0:]
    # # for balls in ballss:



    # bal = [[814, 407], [813, 417], [812, 424], [811, 429], [810, 435], [811, 442], [811, 450], [821, 446], [838, 439], [854, 432], [864, 428], [878, 419], [886, 415], [901, 403], [909, 400], [917, 396], [923, 394], [930, 393], [936, 391], [936, 391], [945, 392], [945, 392], [950, 391], [962, 391], [964, 370], [964, 350], [967, 333], [969, 316], [971, 303], [972, 283], [974, 270], [975, 256], [977, 243], [978, 231], [979, 221], [980, 211], [980, 201], [981, 193], [982, 184], [982, 176], [983, 169], [983, 162], [983, 157], [983, 157], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [983, 148], [993, 160], [993, 160], [993, 160], [993, 160], [993, 160], [993, 160], [993, 160], [993, 160], [993, 160], [993, 160], [993, 160], [993, 160], [993, 160], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [995, 169], [1025, 239], [1025, 239], [1025, 239], [1025, 239], [1025, 239], [1025, 239]]
    # balls = bal[69:]


    # bal = [[1234, 175], [1235, 159], [1234, 151], [1234, 145], [1234, 139], [1235, 133], [1235, 126], [1235, 121], [1235, 116], [1235, 116], [1236, 106], [1236, 106], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1236, 97], [1238, 91], [1238, 91], [1237, 99], [1235, 106], [1231, 124], [1226, 140], [1226, 140], [1226, 140], [1226, 140], [1222, 157], [1202, 246], [1200, 263], [1197, 289], [1194, 313], [1190, 337], [1190, 360], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1190, 387], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409], [1189, 409]]

    bal = [[827, 514], [827, 520], [826, 527], [831, 523], [847, 505], [862, 486], [874, 467], [886, 451], [897, 439], [907, 427], [915, 417], [923, 408], [930, 394], [935, 386], [940, 380], [944, 375], [949, 370], [949, 370], [949, 370], [949, 370], [949, 370], [949, 370], [949, 370], [955, 361], [968, 325], [969, 309], [971, 291], [972, 276], [972, 262], [973, 246], [973, 234], [974, 221], [975, 211], [975, 199], [975, 187], [976, 178], [976, 170], [976, 162], [975, 153], [974, 145], [974, 138], [974, 132], [973, 127], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [982, 139], [985, 145], [986, 150], [987, 156], [987, 156], [991, 167], [992, 173], [994, 180], [995, 186], [996, 194], [998, 200], [999, 207], [999, 207], [999, 207], [1000, 219], [988, 199], [982, 189], [976, 181], [970, 172], [963, 164], [957, 155], [951, 147], [945, 139], [939, 132], [934, 126], [928, 119], [921, 114], [916, 107], [910, 101], [904, 96], [898, 90], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86]]
    balls = bal[3:]


    # bal = [[857, 586], [855, 571], [853, 558], [851, 545], [849, 533], [848, 520], [847, 508], [845, 497], [844, 485], [842, 474], [840, 465], [839, 457], [838, 449], [836, 442], [835, 435], [833, 428], [832, 418], [829, 408], [828, 402], [828, 402], [828, 402], [828, 402], [828, 402], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [821, 383], [803, 378], [803, 378], [803, 378], [803, 378], [803, 378], [796, 399], [795, 404], [794, 410], [792, 423], [791, 431], [790, 437], [789, 443], [788, 450], [788, 450], [790, 461], [811, 452], [830, 445], [844, 440], [862, 433], [873, 424], [890, 415], [899, 410], [909, 406], [918, 404], [926, 402], [933, 402], [938, 401], [944, 400], [944, 400], [949, 400], [963, 403], [966, 395], [967, 371], [968, 353], [972, 336], [975, 316], [976, 301], [978, 286], [980, 271], [981, 259], [983, 246], [984, 235], [986, 224], [987, 214], [988, 206], [989, 197], [990, 188], [990, 181], [991, 174], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [991, 168], [981, 149], [981, 149], [981, 149], [981, 149], [981, 149], [981, 155], [981, 155], [981, 155], [981, 155], [981, 155], [981, 155], [981, 155], [981, 155], [988, 164], [995, 180], [995, 180], [997, 187], [998, 192], [1000, 197], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202], [1001, 202]]
    # ballss = [bal[51:]]

    balls = [[1115, 505], [1115, 498], [1114, 491], [1112, 485], [1112, 479], [1111, 474], [1110, 468], [1110, 468], [1110, 468], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1108, 454], [1093, 444], [1077, 434], [1063, 429], [1048, 423], [1038, 419], [1025, 413], [1016, 409], [1002, 403], [996, 403], [987, 400], [980, 396], [974, 396], [974, 396], [969, 396], [953, 394], [953, 394], [944, 393], [939, 387], [936, 368], [933, 356], [929, 342], [925, 331], [921, 318], [919, 308], [915, 298], [911, 288], [908, 279], [905, 271], [902, 263], [899, 256], [897, 251], [895, 244], [895, 244], [888, 233], [886, 228], [886, 228], [880, 220], [880, 220], [880, 220], [880, 220], [880, 220], [880, 220], [880, 220], [880, 220], [880, 220], [880, 220], [880, 220], [880, 220], [864, 201], [864, 201], [864, 201], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [960, 233], [817, 227], [817, 227], [814, 235], [814, 235], [814, 235], [814, 235], [814, 235], [814, 235], [814, 235], [814, 235], [814, 235], [814, 235], [814, 235], [814, 235], [814, 235], [814, 235], [814, 235], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [811, 242], [987, 229], [987, 229], [987, 229], [987, 229], [987, 229], [987, 229], [987, 229], [987, 229], [987, 229], [987, 229], [987, 229], [987, 229], [987, 229], [987, 229], [987, 229]]


    #   https://d1zxk9teuo4ijt.cloudfront.net/vendor/ace_serve/d68b82e5-7ead-48db-9dfe-a76b73c1ff90/d68b82e5-7ead-48db-9dfe-a76b73c1ff90.json
    balls  =  [[889, 625], [889, 587], [887, 575], [887, 563], [886, 552], [885, 540], [884, 530], [883, 520], [882, 511], [883, 502], [881, 493], [880, 486], [879, 478], [878, 471], [878, 465], [876, 459], [875, 453], [874, 448], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [874, 443], [860, 437], [859, 442], [859, 442], [858, 451], [859, 456], [882, 445], [916, 428], [938, 419], [971, 405], [989, 396], [1009, 389], [1032, 383], [1048, 374], [1069, 364], [1084, 358], [1099, 351], [1113, 347], [1127, 344], [1141, 340], [1152, 338], [1165, 336], [1176, 333], [1186, 331], [1196, 330], [1206, 328], [1215, 328], [1223, 325], [1228, 317], [1240, 292], [1245, 282], [1251, 268], [1255, 258], [1263, 241], [1268, 232], [1274, 221], [1280, 212], [1285, 203], [1289, 195], [1294, 186], [1299, 179], [1303, 173], [1308, 166], [1312, 161], [1317, 155], [1317, 155], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1323, 146], [1368, 129], [1380, 120], [1385, 111], [1389, 101], [1394, 91], [1399, 84]]
    balls = balls[42:]


    # edged with curves https://d1zxk9teuo4ijt.cloudfront.net/vendor/ace_serve/c6a264c6-82ad-4192-8019-ef23ef006eb7/c6a264c6-82ad-4192-8019-ef23ef006eb7.json
    # balls = [[827, 514], [827, 520], [826, 527], [831, 523], [847, 505], [862, 486], [874, 467], [886, 451], [897, 439], [907, 427], [915, 417], [923, 408], [930, 394], [935, 386], [940, 380], [944, 375], [949, 370], [949, 370], [949, 370], [949, 370], [949, 370], [949, 370], [949, 370], [955, 361], [968, 325], [969, 309], [971, 291], [972, 276], [972, 262], [973, 246], [973, 234], [974, 221], [975, 211], [975, 199], [975, 187], [976, 178], [976, 170], [976, 162], [975, 153], [974, 145], [974, 138], [974, 132], [973, 127], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [972, 122], [982, 139], [985, 145], [986, 150], [987, 156], [987, 156], [991, 167], [992, 173], [994, 180], [995, 186], [996, 194], [998, 200], [999, 207], [999, 207], [999, 207], [1000, 219], [988, 199], [982, 189], [976, 181], [970, 172], [963, 164], [957, 155], [951, 147], [945, 139], [939, 132], [934, 126], [928, 119], [921, 114], [916, 107], [910, 101], [904, 96], [898, 90], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86], [893, 86]]
    # balls = balls[3:]


    # https://d1zxk9teuo4ijt.cloudfront.net/vendor/ace_serve/4618e053-0835-421d-b4ee-249497d8c549/4618e053-0835-421d-b4ee-249497d8c549.json
    # balls = [[837, 410], [836, 415], [835, 423], [835, 430], [834, 435], [834, 441], [833, 446], [833, 452], [833, 458], [832, 464], [831, 472], [831, 472], [830, 480], [887, 467], [919, 459], [948, 451], [981, 444], [1003, 440], [1031, 435], [1031, 435], [1051, 428], [1099, 418], [1115, 415], [1131, 413], [1147, 412], [1162, 409], [1176, 408], [1191, 407], [1203, 407], [1213, 407], [1222, 393], [1231, 372], [1231, 372], [1238, 356], [1258, 320], [1263, 303], [1271, 290], [1277, 278], [1283, 265], [1290, 254], [1296, 243], [1301, 232], [1307, 224], [1312, 216], [1318, 208], [1323, 202], [1327, 196], [1327, 196], [1327, 196], [1327, 196], [1327, 196], [1327, 196], [1327, 196], [1327, 196], [1327, 196], [1327, 196], [1327, 196], [1327, 196], [1332, 190], [1332, 190], [1332, 190], [1332, 190], [1332, 190], [1332, 190], [1332, 190], [1332, 190], [1332, 190], [1332, 190], [1332, 190], [1332, 190], [1332, 190], [1399, 175], [1404, 174], [1410, 162], [1415, 152], [1419, 143], [1425, 133], [1430, 121], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1434, 112], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103], [1439, 103]]
    # balls = balls[12:]


    # # https://d1zxk9teuo4ijt.cloudfront.net/vendor/ace_serve/eaf8de32-ae05-4b90-b343-c7c51953a1a2/eaf8de32-ae05-4b90-b343-c7c51953a1a2.json
    balls = [[879, 670], [878, 655], [877, 643], [876, 630], [875, 618], [874, 605], [872, 594], [871, 583], [871, 572], [869, 562], [869, 552], [867, 543], [866, 535], [865, 526], [864, 518], [863, 510], [862, 504], [860, 497], [859, 490], [859, 490], [859, 490], [859, 490], [855, 474], [855, 474], [855, 474], [852, 463], [852, 457], [852, 457], [852, 457], [852, 457], [852, 457], [852, 457], [852, 457], [852, 457], [852, 457], [852, 457], [842, 451], [842, 451], [842, 451], [842, 451], [842, 451], [842, 451], [842, 451], [842, 451], [834, 482], [833, 487], [832, 492], [831, 499], [831, 499], [830, 505], [879, 498], [911, 492], [935, 485], [981, 476], [1002, 471], [1034, 466], [1056, 462], [1056, 462], [1077, 455], [1122, 444], [1141, 438], [1158, 436], [1174, 434], [1188, 432], [1202, 431], [1215, 429], [1229, 428], [1229, 428], [1236, 423], [1259, 379], [1265, 364], [1273, 349], [1279, 338], [1289, 317], [1295, 305], [1303, 293], [1310, 281], [1317, 269], [1324, 259], [1330, 249], [1335, 242], [1341, 234], [1346, 228], [1352, 222], [1352, 222], [1352, 222], [1356, 216], [1356, 216], [1356, 216], [1380, 193], [1380, 193], [1380, 193], [1380, 193], [1380, 193], [1380, 193], [1380, 193], [1380, 193], [1380, 193], [1380, 193], [1380, 193], [1380, 193], [1380, 193], [1380, 193], [1380, 193], [1380, 193], [1435, 191], [1439, 182], [1443, 174], [1444, 167], [1442, 160], [1441, 155], [1442, 150], [1440, 144], [1439, 138], [1439, 138], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1438, 129], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109], [1432, 109]]
    balls = balls[51:]

    # # https://d1zxk9teuo4ijt.cloudfront.net/vendor/ace_serve/f164afd6-fa25-46a3-a779-8fe7be18f9e6/f164afd6-fa25-46a3-a779-8fe7be18f9e6.json
    # balls = [[862, 551], [861, 539], [859, 526], [858, 515], [857, 503], [856, 493], [855, 482], [853, 472], [852, 462], [851, 453], [849, 445], [848, 436], [847, 431], [846, 425], [844, 418], [844, 412], [842, 400], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [840, 395], [819, 388], [819, 388], [817, 398], [815, 409], [815, 417], [814, 423], [813, 428], [812, 434], [811, 442], [810, 447], [829, 440], [845, 432], [858, 427], [874, 418], [887, 408], [899, 401], [908, 395], [917, 392], [926, 389], [933, 386], [940, 384], [947, 384], [947, 384], [947, 384], [956, 382], [956, 382], [973, 384], [976, 376], [977, 356], [980, 339], [983, 322], [986, 309], [987, 290], [988, 278], [990, 266], [991, 255], [993, 244], [994, 233], [995, 225], [995, 216], [996, 209], [997, 201], [997, 195], [997, 195], [999, 183], [999, 183], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [999, 173], [1006, 188], [1006, 188], [1006, 188], [1006, 188], [1006, 188], [1006, 188], [1006, 188], [1006, 188], [1006, 188], [1006, 188], [1006, 188], [1006, 188], [1006, 188], [1006, 188]]
    # balls = balls[49:]



    # # https://d1zxk9teuo4ijt.cloudfront.net/vendor/ace_serve/b9da7da1-89da-4d4c-b955-4174b2340a81/b9da7da1-89da-4d4c-b955-4174b2340a81.json
    # balls = [[1087, 598], [1086, 588], [1086, 580], [1086, 571], [1085, 562], [1084, 546], [1083, 537], [1083, 530], [1081, 522], [1080, 515], [1079, 502], [1077, 496], [1077, 490], [1077, 490], [1075, 480], [1075, 480], [1075, 480], [1075, 480], [1072, 457], [1071, 452], [1071, 452], [1071, 452], [1071, 452], [1071, 452], [1071, 452], [1071, 452], [1071, 452], [1071, 452], [1071, 452], [1071, 452], [1071, 452], [1071, 452], [1071, 452], [1071, 452], [1071, 452], [1055, 437], [1055, 437], [1055, 437], [1055, 437], [1055, 437], [1049, 454], [1047, 462], [1047, 462], [1047, 462], [1044, 475], [1043, 480], [1041, 492], [1041, 498], [1040, 504], [1033, 503], [1012, 489], [975, 464], [963, 454], [937, 439], [925, 430], [925, 430], [925, 430], [925, 430], [910, 422], [842, 393], [842, 393], [842, 393], [831, 388], [788, 370], [777, 368], [768, 364], [768, 364], [726, 186], [721, 185], [721, 185], [721, 185], [721, 185], [724, 358], [690, 318], [684, 307], [679, 296], [670, 277], [664, 268], [664, 268], [664, 268], [664, 268], [660, 261], [633, 220], [630, 213], [630, 213], [621, 204], [621, 204], [621, 204], [621, 204], [621, 204], [621, 204], [621, 204], [621, 204], [621, 204], [621, 204], [621, 204], [621, 204], [611, 193], [611, 193], [611, 193], [551, 147], [551, 147], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [532, 143], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142], [527, 142]]
    # balls = balls[48:]

    # # https://d1zxk9teuo4ijt.cloudfront.net/vendor/ace_serve/38b19cb4-a256-4711-b10e-1f316b46dc03/38b19cb4-a256-4711-b10e-1f316b46dc03.json
    # balls = [[1113, 418], [1112, 413], [1110, 406], [1108, 402], [1107, 398], [1105, 395], [1103, 393], [1102, 392], [1100, 391], [1099, 390], [1097, 390], [1096, 390], [1094, 390], [1093, 391], [1090, 393], [1089, 395], [1087, 397], [1085, 400], [1084, 404], [1082, 413], [1081, 417], [1078, 423], [1077, 427], [1075, 431], [1074, 437], [1072, 444], [1070, 451], [1069, 458], [1066, 464], [1057, 457], [1046, 448], [1036, 439], [1026, 433], [1016, 427], [1009, 422], [1002, 417], [997, 413], [989, 409], [983, 407], [978, 405], [974, 403], [970, 403], [966, 404], [963, 406], [963, 406], [963, 406], [950, 362], [948, 344], [946, 327], [942, 309], [940, 291], [938, 278], [935, 265], [933, 252], [930, 238], [928, 227], [926, 216], [924, 207], [921, 197], [919, 189], [917, 182], [915, 174], [913, 168], [911, 162], [908, 157], [908, 153], [905, 149], [903, 145], [901, 142], [899, 139], [898, 137], [895, 136], [893, 134], [891, 133], [889, 133], [887, 133], [886, 132], [885, 133], [884, 134], [882, 135], [881, 137], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [880, 138], [869, 204], [868, 205], [869, 204], [868, 203], [868, 202], [868, 201], [867, 201], [867, 202], [866, 202], [866, 202], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [866, 203], [865, 232], [866, 232], [866, 232], [866, 232], [866, 232], [866, 232], [866, 232], [866, 232], [866, 232], [866, 232], [866, 232], [866, 232], [865, 251], [865, 254], [865, 258], [865, 262], [866, 262], [866, 261], [866, 261], [866, 261], [866, 261], [866, 261], [865, 261], [865, 262], [865, 262], [865, 262], [865, 262], [865, 262], [865, 262], [865, 262], [865, 262], [865, 262], [865, 262], [865, 262], [865, 262], [864, 283], [863, 282], [863, 282]]
    # balls = balls[28:]

    
    balls = [[870, 586], [869, 573], [868, 559], [865, 547], [863, 536], [861, 525], [860, 514], [859, 504], [857, 493], [855, 483], [854, 475], [852, 467], [850, 458], [848, 450], [846, 443], [845, 436], [844, 431], [844, 431], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [807, 413], [805, 418], [803, 423], [802, 429], [801, 435], [800, 441], [799, 447], [799, 447], [798, 455], [844, 439], [873, 428], [902, 418], [926, 409], [947, 400], [979, 387], [999, 380], [1018, 376], [1037, 371], [1056, 366], [1071, 361], [1090, 355], [1104, 352], [1117, 351], [1130, 349], [1143, 347], [1154, 347], [1165, 347], [1175, 348], [1185, 348], [1194, 349], [1203, 351], [1211, 352], [1217, 355], [1223, 358], [1223, 358], [1236, 364], [1242, 368], [1252, 357], [1256, 345], [1261, 331], [1266, 319], [1270, 308], [1274, 299], [1281, 285], [1285, 273], [1288, 265], [1292, 255], [1297, 246], [1301, 238], [1305, 230], [1308, 223], [1312, 215], [1315, 208], [1318, 203], [1322, 197], [1325, 191], [1328, 186], [1328, 186], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1393, 202], [1395, 197], [1397, 190], [1399, 184], [1401, 178], [1403, 172], [1405, 166], [1408, 159], [1408, 159], [1408, 159], [1414, 146], [1414, 146], [1414, 146], [1414, 146], [1414, 146], [1414, 146]]
    balls = balls[48:]

    balls = [[870, 586], [869, 573], [868, 559], [865, 547], [863, 536], [861, 525], [860, 514], [859, 504], [857, 493], [855, 483], [854, 475], [852, 467], [850, 458], [848, 450], [846, 443], [845, 436], [844, 431], [844, 431], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [841, 421], [807, 413], [805, 418], [803, 423], [802, 429], [801, 435], [800, 441], [799, 447], [799, 447], [798, 455], [844, 439], [873, 428], [902, 418], [926, 409], [947, 400], [979, 387], [999, 380], [1018, 376], [1037, 371], [1056, 366], [1071, 361], [1090, 355], [1104, 352], [1117, 351], [1130, 349], [1143, 347], [1154, 347], [1165, 347], [1175, 348], [1185, 348], [1194, 349], [1203, 351], [1211, 352], [1217, 355], [1223, 358], [1223, 358], [1236, 364], [1242, 368], [1252, 357], [1256, 345], [1261, 331], [1266, 319], [1270, 308], [1274, 299], [1281, 285], [1285, 273], [1288, 265], [1292, 255], [1297, 246], [1301, 238], [1305, 230], [1308, 223], [1312, 215], [1315, 208], [1318, 203], [1322, 197], [1325, 191], [1328, 186], [1328, 186], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1334, 177], [1393, 202], [1395, 197], [1397, 190], [1399, 184], [1401, 178], [1403, 172], [1405, 166], [1408, 159], [1408, 159], [1408, 159], [1414, 146], [1414, 146], [1414, 146], [1414, 146], [1414, 146], [1414, 146]]
    balls = balls[48:]
    rightup = True
    leftup = False

    balls = [[1130, 580], [1128, 567], [1126, 554], [1124, 542], [1123, 529], [1121, 519], [1120, 508], [1118, 496], [1116, 486], [1115, 476], [1113, 469], [1112, 459], [1111, 451], [1108, 442], [1107, 435], [1106, 427], [1104, 421], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1102, 416], [1061, 409], [1059, 415], [1057, 420], [1055, 425], [1054, 432], [1053, 440], [1051, 448], [1033, 443], [1007, 432], [984, 422], [958, 413], [936, 407], [916, 402], [897, 398], [877, 392], [877, 392], [861, 387], [824, 378], [809, 376], [794, 375], [780, 374], [767, 372], [753, 372], [739, 371], [726, 372], [714, 373], [703, 374], [703, 374], [695, 375], [677, 373], [665, 349], [659, 335], [653, 323], [646, 311], [640, 300], [634, 289], [626, 277], [621, 266], [614, 257], [608, 248], [602, 240], [596, 232], [591, 225], [585, 218], [580, 212], [574, 205], [569, 201], [563, 196], [558, 191], [553, 187], [553, 187], [543, 181], [538, 178], [533, 176], [533, 176], [533, 176], [520, 173], [520, 173], [511, 170], [511, 170], [511, 170], [511, 170], [511, 170], [511, 170], [511, 170], [511, 170], [511, 170], [511, 170], [511, 170], [511, 170], [511, 170], [511, 170], [511, 170], [511, 170], [450, 195], [448, 189], [445, 183], [445, 183], [445, 183], [445, 183], [445, 183], [445, 183], [445, 183], [445, 183]]
    balls = balls[50:]
    rightup = False
    leftup = True

    finalcords = getCurveIntersection(balls,rightup,leftup)



